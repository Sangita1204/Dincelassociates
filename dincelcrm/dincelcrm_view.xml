<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		
		<record	 id="dincelcrm_contact_form_new_view" model="ir.ui.view" >
			<field name="name">dincelcrm.contact.new.form.view</field>
			<field name="view_type">form</field>
			<field name="model">res.partner</field>
			<field name="arch" type="xml">
				<form string="Contact" version="7.0">
				<!--
					<header>
						<button string="DCS Partner Update" groups="base.group_update_dcs" name="updatelink_partner_dcs" invisible="1" type="object"/>
						<button string="Update DCS" groups="base.group_update_dcs"  attrs="{'invisible': [('customer', '=', False)]}" name="save_n_update_partner_dcs" type="object"/>
						<button string="Print Statement Pdf"   attrs="{'invisible': [('x_is_client', '=', False)]}" name="button_download_statement_pdf" type="object"/>
					</header>
					-->
					<sheet>
					<field name="image" widget="image" class="oe_left oe_avatar" options="{&quot;preview_image&quot;: &quot;image_medium&quot;, &quot;size&quot;: [90, 90]}"/>
						<div class="oe_title">
                        <div class="oe_edit_only" attrs="{'invisible': [('x_is_project','=', True)]}">
                           <label for="is_company" string="Is a Company?" />
                            <field name="is_company" class="oe_inline" /> 
						</div>

                        <div class="oe_edit_only"  attrs="{'invisible': [('x_is_project','=', True)]}">
						<label for="x_is_client" string="Is an Ordering Client?" />
						<field name="x_is_client" class="oe_inline" eval="Client" /> 
						</div>

						 <div class="oe_edit_only">
							<label for="x_is_project" string="Is a Site / Project?" />
							<field name="x_is_project"  class="oe_inline"  />  
						</div>

                        <h1>
							<label for="name" string="Company" attrs="{'invisible': [('is_company','=', False)]}" class="oe_inline oe_edit_only"/>
							<label for="name" attrs="{'invisible': [('x_is_project','=', True)]}" class="oe_inline oe_edit_only"/>
							<label for="name" string="Site Address (Suburb, Street Address)"  attrs="{'invisible': [('x_is_project','=', False)]}"  invisible="1" class="oe_inline oe_edit_only"/>
                            <field name="name" default_focus="1" placeholder="" attrs="{'invisible': [('x_is_project','=', True)]}"   on_change="onchange_sitename(x_is_project,x_is_client,is_company,name)" />
							<label string="Project / Site" attrs="{'invisible': [('x_is_project','=', False)]}" invisible="1" class="oe_save_only"/>
                        </h1>
						
						
						<label string=" " /><br />
						<!-- <label string="Credit Limit Exceeded" style="color:red; border:1px solid red; padding:10px;" attrs="{'invisible': [('x_cr_limit_over','=',False)]}"/>
						<field name="x_cr_limit_over" string="Over Credit Limit" invisible="1" readonly="1"/>  -->
						<label string="Overdue A/C" style="color:red; border:1px solid red; padding:10px;" attrs="{'invisible': [('x_due_date_over','=',False)]}"/>
						<field name="x_due_date_over" string="Overdue Account" invisible="1" readonly="1"/>  
						
						<label string="Deposit Invoice Not Required" style="color:green; border:1px solid green; padding:10px;" attrs="{'invisible': [('x_deposit_exmpt_read','=',False)]}"/>
						<field name="x_display_rate" invisible="1"/>
                        <field name="category_id" widget="many2many_tags" placeholder="Tags..." />
						<!--<field name="x_contact_type" invisible="1"/-->  <!-- <label for="parent_id" string="Parent Company" class="oe_edit_only"  attrs="{'invisible': ['|','|',('x_hide_parent','=',True),('x_is_client','=',True), ('x_is_project','=', True)]}"/> -->
						<div class="oe_edit_only">
						 <label for="parent_id" string="Parent Company" class="oe_edit_only"  attrs="{'invisible': ['|','|',('is_company','=',True),('x_is_client','=',True), ('x_is_project','=', True)]}"/> </div> 
						 <field name="parent_id" placeholder="Company" attrs="{'invisible': ['|','|',('is_company','=',True),('x_is_client','=',True), ('x_is_project','=', True)]}"/>
						   <field name="x_hide_parent" invisible="1" readonly="1"/>
                    </div>
					
					<div class="oe_right oe_button_box" name="buttons"> 
					 <!--<button type="action" 
                        class="oe_stat_button"
                        id="invoice_button"
                        icon="fa-pencil-square-o"
                        name="%(account.action_invoice_tree)d" 
                        attrs="{'invisible': [('customer', '=', False)]}" 
                        context="{'search_default_partner_id': active_id,'default_partner_id': active_id}" groups="account.group_account_invoice">
                        <div><strong><field name="total_invoiced" widget="monetary"/></strong><br/>Invoiced</div>
                    </button> 
						<button class="oe_inline oe_stat_button" type="action"
                            attrs="{'invisible': [('customer', '=', False)]}"
                            name="%(crm.crm_case_category_act_oppor11)d"
                            icon="fa-star"
                            context="{'search_default_partner_id': active_id}">
                            <field string="Opportunities" name="opportunity_count" widget="statinfo"/>
                        </button>
                        <button class="oe_inline oe_stat_button" type="object"
                            name="schedule_meeting"
                            icon="fa-calendar"
                            context="{'partner_id': active_id}">
                            <field string="Meetings" name="meeting_count" widget="statinfo"/>
                        </button>
						-->
						<button class="oe_inline oe_stat_button" type="object"
                            name="button_view_quotations"
                            icon="fa-archive"  attrs="{'invisible': [('customer', '=', False)]}"
                            >
                            <field string="Quotations" name="x_quotation_count" widget="statinfo"/>
                        </button> 
						<button class="oe_inline oe_stat_button" type="object"
                            name="button_view_schedules"
                            icon="fa-list-ol"  attrs="{'invisible': [('customer', '=', False)]}"
                            >
                            <field string="Schedules" name="x_schedule_count" widget="statinfo"/>
                        </button> 
                        <button class="oe_inline oe_stat_button" type="object"
                             name="button_view_activities" 
                            icon="fa-phone">
                            <field string="Calls" name="x_phonecall_count" widget="statinfo"/>
                        </button>
					 <button class="oe_inline oe_stat_button" type="action" name="%(sale.act_res_partner_2_sale_order)d" 
                        attrs="{'invisible': [('x_is_client', '=', False)]}"
                        icon="fa-strikethrough">
                        <field string="Sales" name="sale_order_count" widget="statinfo"/>
                    </button>   
					
					 <button class="oe_inline oe_stat_button" type="object"
                             name="open_invoices_all" attrs="{'invisible': [('x_is_client', '=', False)]}"
                            icon="fa-money"
                            context="{'search_default_partner_id': active_id}">
                            <field string="Open Invoices" name="x_openinvoice_count" widget="statinfo"/>
                        </button>
						
						 <button class="oe_inline oe_stat_button" type="object" 
                             icon="fa-strikethrough" name="open_project_order" attrs="{'invisible': [('x_is_project', '=', False)]}"
                            >
                            <field string="Sales" name="x_sale_order_count" widget="statinfo"/>
                        </button>
					<!--
					<button class="oe_inline oe_stat_button" name="%(purchase.act_res_partner_2_supplier_invoices)d" type="action"
                        attrs="{'invisible': [('supplier', '=', False)]}" icon="fa-pencil-square-o" help="Supplier Invoices">
                        <field string="Supplier Inv." name="supplier_invoice_count" widget="statinfo"/>
                    </button>
					
					 <button class="oe_inline oe_stat_button" name="%(purchase.act_res_partner_2_purchase_order)d" type="action"
                        attrs="{'invisible': [('supplier', '=', False)]}" icon="fa-shopping-cart">
                        <field string="Purchases" name="purchase_order_count" widget="statinfo"/>
                    </button>
					-->
					</div>
						<group attrs="{'invisible': [('x_is_project','=', True)]}" > 
                            <group> 
								 
								
								<field name="x_ctype" invisible="1"/>
								<field name="x_ctype_id" widget="selection" attrs="{'invisible': [('is_company','=', True)],'required': [('is_company','=', False),('x_is_project','=', False),('x_is_client','=', False),('parent_id','!=', False)]}"/>
								<field name="title" widget="selection"  attrs="{'invisible': [('is_company','=', True)]}"/>
								<field name="function" invisible="1" placeholder="e.g. Sales Director"  attrs="{'invisible': [('is_company','=', True)]}" />
								<field name="phone" placeholder="e.g. 02 9670 1633" attrs="{'required': [('is_company','=', True)]}"/>
								<field name="mobile"  attrs="{'invisible': [('is_company','=', True)]}" />
								<field name="fax"/>
								<field name="email" widget="email"  />
								<field name="x_email_contact" string="Primary Email?"/>
								<field name="website" widget="url" placeholder="e.g. www.dincel.com" attrs="{'invisible': [('is_company','=', False)]}" />	
							
						   </group>
						   
						    <group>
								<group>
									<field name="x_architect"/>                                    
									<field name="x_formwork"/>
									<field name="x_builder"/>
									<field name="x_civil"/>
									
									<field name="x_cr_limit_read" string="Credit Limit $"  readonly="1" widget='monetary' options="{'currency_field': 'currency_id'}" />
									
									<field name="x_openorder_value" widget='monetary' options="{'currency_field': 'currency_id'}"  />  
								</group>
								<group>
									<field name="x_certifier"/>
									<field name="x_engineer"/>
									<field name="x_developer"/>
									 
									<field name="x_deposit_exmpt_read" string="Deposit Waiver" invisible="1"/>
									<field name="x_openinvoice_value" widget='monetary' options="{'currency_field': 'currency_id'}"   /> 
									<button string="Open Orders (not invoiced)" name="button_open_orders_list" type="object" nolabel="1" colspan="2"/>
								  <!-- <field name="x_contact_type" string="Profession" invisible="1"/>-->
								  <!-- <field name="x_profession_id" string="Profession" invisible="1"/-->
								 </group>
                                </group>
							</group>
							<!--
							<group >	
									<group>		<field name="x_edit_master" invisible="1" /> 
										<field name="x_dcs_id"  attrs="{'invisible': [('customer', '=', False)],'readonly': [('x_edit_master','=', False)]}" />
									</group>
								
									<group>	
									<field name="x_dcs_clientid" domain="[('is_company', '=', True),('x_is_project', '=', False),('customer', '=', True)]"  attrs="{'invisible': [('x_is_project','=', False)]}" context="{'default_is_company': True,'default_x_is_client': True,'default_x_edit_rate':x_edit_rate}"/>
									</group>
							</group>
							-->
						 <group> 
							<group>	
									<!--<label for="street" string="Address"  attrs="{'invisible': [('x_is_project','=', True)]}"/> -->
									<!-- <div class="address_format"></div> -->
									
									<field name="street" placeholder="Street Address"   on_change="onchange_address1(x_is_project,street,x_suburb_id)" attrs="{'required': [('x_is_project','=', True)]}" />
									<field name="x_suburb_id" string ="Suburb" placeholder="Suburb" style="width: 37%%"  on_change="onchange_suburb_v2(x_suburb_id,state_id,zip,x_is_project,street)" />
									<field name="city" string ="Suburb" placeholder="Suburb" style="width: 37%%"  invisible="1"  />
									 
									<field name="state_id" placeholder="State" style="width: 42%%" on_change="onchange_province(x_suburb_id,state_id)"  options="{'limit': 10, 'create': false, 'create_edit': false,'m2o_dialog':false}"   />
									 
									 
									<field name="zip" string="Postcode"  placeholder="Postcode" style="width: 35%%"  on_change="onchange_postcode(x_suburb_id,zip,city,state_id)"/>
									 
									<field name="country_id" placeholder="Country"  style="width: 65%%" />
									
									<field name="x_post_address" string="Postal Address"  attrs="{'invisible': [('x_is_project','=', True)]}" />     
									<field name="street2" invisible="1"/>
									 
							</group>
							<!--
						<div class="oe_read_only">
									<group>
										<field name="x_sqm_110" widget='monetary'/>
										<field name="x_sqm_155" widget='monetary'/> 
										<field name="x_sqm_200" widget='monetary'/>
										<field name="x_sqm_275" widget='monetary'/>
									</group>
								</div>
								-->
								<!--
								 <div colspan="2"  attrs="{'invisible': [('x_has_valid_rate','=',True)]}" style="margin-top:10px;color:red;border:2px dotted #f00;padding:5px;">
								Missing a valid default rate in the customer card. 
								</div>
								-->
							</group>
							
						  <group> 
					  
							<field name="vat" string="ABN" attrs="{'required': [('is_company','=',True)],'invisible': [('x_is_project','=',True)]}" />
						
							<field name="property_payment_term"  attrs="{'invisible': ['|',('x_is_project','=', True),('x_is_client','=', False)]}"/>
							<field name="user_id"  attrs="{'readonly': [('x_edit_salesperson','=', False)]}"/>
							<field name="x_source_id" attrs="{'invisible': [('x_is_project','=', False)]}"/>
							<field name="comment" placeholder="Internal note..."  />
							<!-- ,'readonly': [('x_edit_rate','=', False)] -->
							<field name="x_rate_note"  attrs="{'invisible': [('x_is_client','=', False)]}"/>
							
							<field name="customer" invisible="1"/>
							<field name="supplier" invisible="1"/> 
							<field name="x_edit_rate" invisible="1"/>
							<field name="x_edit_salesperson" invisible="1"/>
							<field name="x_has_valid_rate" invisible="1"/>
							 
							
							<!-- <field name="x_deposit_exmpt"  attrs="{'invisible': [('x_is_project','=', True)]}"  invisible="1"/>  	-->	
						</group>
						
					 <notebook > 
						  <page  string="Site Info" attrs="{'invisible': [('x_is_project','=', False)]}">	
							<group>
							 
							   <field name="x_project_size" string="Project (m2)" />
							   <field name="x_project_value" string="Value ($)"/>
							   <field name="x_likely_sale_dt"  attrs="{'required': [('x_is_project','=', True),('x_is_sale_date','!=',True)]}" />
							   <field name="x_is_sale_date" />
							   <field name="x_formwork_id" string="Formworker" invisible="1"/>
							   <field name="x_architect_id" invisible="1"/>
							   <field name="x_builder_id" invisible="1"/>
							    <field name="x_engineer_id" invisible="1"/>
								<field name="x_market_wall_id"  widget="selection"/>
								
							  </group>
							 </page>
								
							<page string="Tendering/Customers"  attrs="{'invisible': [('x_is_project','=', False)]}">
								<field name="x_role_partner_ids" string="Tendering/Customers"  domain="[('customer','=',True),('is_company','=',True)]" context="{'default_is_company': True,'default_x_is_client': True,'default_customer': True,'default_x_edit_rate':x_edit_rate}"> 
									<tree delete="False">
										<field name="x_dcs_id"/>
										 <field name="name"  />
										 <field name="email"  />
										 <field name="phone"  />
										 <field name="x_architect"  invisible="1" string="Architect" />
										 <field name="x_certifier"  invisible="1" string="Certifier" />
										 <field name="x_formwork" invisible="1" string="Formworker" />
										 <field name="x_builder" invisible="1" string="Builder" />
										 <field name="x_engineer" invisible="1" string="Engineer" />
									</tree>
								 </field>
								</page>
							<page string="Project/Sites"  attrs="{'invisible': [('x_is_client','=', False),('is_company','=', False)]}">

							 
									<field name="x_role_site_ids"   domain="[('x_is_project', '=', True)]" context="{'default_x_is_project': True}">
											<tree>
											<field name="user_id"/>
												<field name="x_dcs_id"/>
												 <field name="name" string="Site Address" />
												 <field name="city"  string="Suburb" />
												 <field name="zip"  string="Postcode" />
												 <field name="state_id" string="State" />
												 
												 </tree>
									 </field>
									
							 
							 </page>
								 <!-- attrs="{'invisible': [('x_is_client','=', False)]}" -->
							<page string="Contacts" attrs="{'invisible': [('x_hide_parent','=', True)]}" >
								<field name="child_ids" domain="[('x_is_project', '=', False)]" context="{'default_x_is_project': False,'default_parent_id': active_id, 'default_street': street, 'default_city': city, 'default_state_id': state_id, 'default_zip': zip, 'default_country_id': country_id, 'default_supplier': supplier, 'default_customer': customer,'default_x_hide_parent':True}">
								<tree>
								<field name="x_ctype_id" />
								<field name="title"  />
								<field name="function" invisible="1"/>
								<field name="name"/>
								<field name="mobile"/>
								<field name="phone"/>
								<field name="email"/>
								</tree>
								</field>
							</page>
								 
							 <page string="Meeting History" attrs="{'invisible': [('x_is_project','=', True)]}">
								<field name="x_meeting_ids" readonly="1" >
								<tree>
									<field name="date"  />
										<field name="x_project_id"  />
									<!--<field name="partner_id" string="Company" /-->
									<!-- <field name="x_instruction" string="Instruction"/-->
									<field name="description"  string="Comments" />
									<field name="x_type" />
									<field name="user_id" string="Salesperson" />
									</tree>
								</field>
							</page>
							
							<page string="History" attrs="{'invisible': [('x_is_project','=', False)]}">
									<field name="x_phonecall_ids" readonly="1" >
									<tree>
										<field name="date"  />
										<!--<field name="partner_id" string="Company" /-->
										<!-- <field name="x_instruction" string="Instruction"/-->
										<field name="description"  string="Comments" />
										<field name="x_type" />
										<field name="user_id" string="Salesperson" />
										</tree>
									</field>
							</page>
							<page string="Complaints" attrs="{'invisible': [('x_is_project','=', False)]}">
									<field name="x_complaint_ids" readonly="1" >
									<tree>
										<field name="entry_dt"  />
										<field name="user_id"  />
										<!--<field name="partner_id" string="Company" /-->
										<!-- <field name="x_instruction" string="Instruction"/-->
										<field name="description"   />
										
										<field name="state"  />
										</tree>
									</field>
							</page>
								<!-- attrs="{'invisible': ['|',('is_company','=', False),('x_display_rate','=', '0')]}"-->
								
								
						   <page name="rate_history" string="Rate History"  attrs="{'invisible': ['|',('x_is_project','=', True),('x_is_client','=', False)]}">
								<div><field name="x_customer_rate_ids" context="{'default_partner_id': active_id,'default_user_id': uid}"  attrs="{'readonly': [('x_edit_rate','=', False)]}">
									<form>  
										<group> 
											<group> 
											
											<field name="dcs_group"/>
											<field name="rate_cod"/>
											<field name="rate_acct"/>
											
											</group>
											
											<group> 
											
											<field name="date_from"/>
											<field name="date_to"/>
											
											
											<field name="partner_id" invisible="1"/>
											<field name="user_id"  invisible="1"/>
											</group>
										</group>
										
										<group> 
											<field name="description"/>
											</group>
									</form>
									<tree>
									<field name="dcs_group"/>
									<field name="date_from"/>
									<field name="date_to"/>
									
									<field name="rate_cod"/>
									<field name="rate_acct"/>
									<field name="description"/>
									<field name="partner_id" invisible="1"/>
									<field name="user_id" />
									<field name="date" />
									</tree>
								</field>
								</div>
							
								<div>
									<div>
								<label for="button_approve_rate" string="Pending approval rate request" />
								<button name="button_approve_rate" attrs="{'invisible': [('x_edit_rate','=', False)]}" type="object" string="Approve Pending Rate Request" />
								</div>
								
								<field name="x_pending_rate_ids" context="{'default_partner_id': active_id,'default_user_id': uid}"  >
									<form>  
										<group> 
											<group> 
											
											<field name="dcs_group"/>
											<field name="rate_cod"/>
											<field name="rate_acct"/>
											
											</group>
											
											<group> 
											
										 
											
											<field name="partner_id" invisible="1"/>
											<field name="user_id"  invisible="1"/>
											</group>
										</group>
										
										<group> 
											<field name="description"/>
											</group>
									</form>
									<tree>
									<field name="dcs_group"/>
									 
									
									<field name="rate_cod"/>
									<field name="rate_acct"/>
									<field name="description"/>
									<field name="partner_id" invisible="1"/>
									<field name="user_id" />
									 
									</tree>
								</field>
								</div>
							</page>
						<!-- 	
				<page string="Accounting" col="4" name="accounting" attrs="{'invisible': [('is_company','=',False),('parent_id','!=',False)]}" groups="account.group_account_invoice">
                    <group>
                        <group>
                            <field name="property_account_position" widget="selection"/>
                        </group>
                        <group>
                            <field name="last_reconciliation_date"/>
                        </group>
                        <group>
                            <field name="property_account_receivable" groups="account.group_account_invoice" />
                           
                           
                            <field name="credit"/>
                            <field name="credit_limit"/>
							<field name="x_acn" />
                        </group>
                        <group>
                            <field name="property_account_payable" groups="account.group_account_invoice"/>
                            <field name="property_supplier_payment_term" widget="selection"/>
                            <field name="debit"/>
							<field name="vat" string="ABN" attrs="{'required': [('is_company','=',True)]}"/>
                        </group>
                    </group>
                    <field name="bank_ids" context="{'default_partner_id': active_id, 'form_view_ref': 'base.view_partner_bank_form'}">
                        <tree string="Bank Details">
                            <field name="state" invisible="1"/>
                            <field name="sequence" invisible="1"/>
                            <field name="acc_number"/>
                            <field name="bank_name"/>
                            <field name="owner_name"/>
                        </tree>
                    </field>
					
                </page>
				
                <page string="Accounting" name="accounting_disabled" attrs="{'invisible': ['|',('is_company','=',True),('parent_id','=',False)]}" groups="account.group_account_invoice">
                    <div>
                        <p>Accounting-related settings are managed on <button name="open_commercial_entity" type="object" string="the parent company" class="oe_link"/></p>
                    </div>
                </page> 
				
				-->
			</notebook>
						
					
						
              </sheet>      
					 
					 <div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"/>
						<field name="message_ids" widget="mail_thread"/>
					</div>
					
				</form>
			</field>
		</record>
		 
		  <record id="dincelcrm_res_partner_form_view" model="ir.ui.view" >
			<field name="name">dincelcrm.res.partner.form.inherit</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_partner_form" />
			<field name="arch" type="xml">
					<field name="name" position="after">
						<field name="x_display_rate" invisible="1"/>
					</field>
					
					<page name="sales_purchases" position="after"  >
						 
						   <page name="rate_history" string="Rate History" attrs="{'invisible': [('x_display_rate','=', '0')]}">
                            <div>
							<field name="x_customer_rate_ids" context="{'default_partner_id': active_id}">
								<form>  <group> 
								<field name="date_from"/>
								<field name="date_to"/>
								
								<field name="rate_cod"/>
								<field name="rate_acct"/>
								<field name="partner_id" invisible="1"/>
								</group>
								</form>
								<tree>
								<field name="date_from"/>
								<field name="date_to"/>
								
								<field name="rate_cod"/>
								<field name="rate_acct"/>
								<field name="partner_id" invisible="1"/>
								</tree>
								</field>
							</div>
							</page>
					</page>
					
                 
			</field>
		</record>
		
		 <record model="ir.ui.view" id="dincelcrm_leads_new_tree">
            <field name="name">Leads</field>
            <field name="model">crm.lead</field>
            <field name="arch" type="xml">
                <tree string="Leads" fonts="bold:message_unread==True" colors="grey:state in ('cancel', 'done')">
                    <field name="date_deadline" invisible="1" />
                    <field name="create_date" />
                    <field name="name" string="Site Address" />
					<field name="partner_id" string="Customer" />
					
					<field name="x_proj_val" string="Project Value ($)"/>
                    <field name="x_proj_state"/>
					<field name="x_likely_sale_dt" /> 
                    
                    <field name="user_id" />
                    <!--<field name="stage_id"/>-->
					<field name="state" string="State"/>
					<field name="type"/>
					
                    <!--<field name="state" invisible="1"/>-->
                    <!--<field name="type_id" invisible="1"/> -->
                    <!--  <field name="referred" invisible="1"/>
                    <field name="channel_id" invisible="1"/>  -->
                    <field name="message_unread" invisible="1"/>
                </tree>
            </field>
        </record>
		<record	 id="dincelcrm_leads_new_form_view" model="ir.ui.view" >
			<field name="name">dincelcrm.leads.new.form.view</field>
			<field name="view_type">form</field>
			<field name="model">crm.lead</field>
			<field name="arch" type="xml">
				<form string="Leads" version="7.0">
					<header>
						<button name="121" string="Convert to Opportunity" type="action"  class="oe_highlight"  attrs="{'invisible': ['|',('type','=','opportunity'), ('state', 'not in', ['draft','open','pending'])]}"/>
						<button name="convert_to_quotation" string="Convert to Quotation" type="object" attrs="{'invisible': [('state', '=', 'quote')]}" />
						<button name="case_reset" string="Reset" type="object" states="cancel"/>
						<button name="case_cancel" string="Cancel Case" type="object" states="draft,open,pending"/>
						<!--
						<field name="stage_id" widget="statusbar" clickable="True" domain="['&amp;', '|', ('case_default', '=', True), ('section_ids', '=', section_id), '|', ('type', '=', type), ('type', '=', 'both')]" on_change="onchange_stage_id(stage_id)" />
						-->
					</header>
					<sheet>
						<group>
							<field name="name" invisible="1"/>
							 
							<field name="partner_id" domain="[('is_company', '=', True)]" on_change="onchange_client(partner_id)" string="Customer" options="{'limit': 10, 'create': false,'m2o_dialog':false}" context="{'default_is_company':True}"/>
							<field name="x_project_id" domain="[('x_is_project', '=', True)]"  context="{'default_x_is_project':True,'default_parent_id':partner_id}"   on_change="onchange_project(x_project_id,partner_id)" string="Site Address" required="1" options="{'limit': 10, 'create': false,'m2o_dialog':false}"/>
							<field name="x_contact_id" domain="[('parent_id', '=', partner_id),('x_is_project', '=', False)]" context="{'default_parent_id':x_project_id}" on_change="onchange_contact(x_contact_id,x_project_id)" string="Customer/Site Contact" options="{'limit': 10, 'create': false,'m2o_dialog':false}"/>
							 
							<field name="stage_id" invisible="1"/> 
						</group>
						 <group>
                            <field name="user_id" on_change="on_change_user(user_id, context)"/>
                            <label for="section_id"/>
                            <div>
                                <field name="section_id"/>
                                <button name="case_escalate" string="Escalate" type="object" attrs="{'invisible': ['|', ('section_id','=',False), ('state', 'not in', ['draft','open','pending'])]}"/>
                            </div>
                            <field name="type" invisible="1"/>
                        </group>
                        <group>
							<field name="x_projecttype_ids" widget="many2many_tags"/>
                            <field name="categ_ids" invisible="1" widget="many2many_tags" domain="[('object_id.model','=','crm.lead')]" context="{'object_name': 'crm.lead'}"/>
							<field name="x_quotation_id" />
							<field name="priority" invisible="1" />
                        </group>
						  <notebook colspan="4">
							<page string="Internal Notes">
								<field name="description"/>
							</page>
							<page string="Extra Info">
								<group>
								<group string="">
										<field name="active"/>
										<field name="referred"/>
										<field name="state" groups="base.group_no_one" invisible="1"/>
										<field name="opt_out"  invisible="1"/>
									</group><!--
									<group string="Categorization" groups="base.group_multi_company,base.group_no_one" name="categorization">
										<field name="company_id" groups="base.group_multi_company" widget="selection" colspan="2"/>
										
									</group>
									<group string="Mailings">
										<field name="opt_out"/>
									</group>
									<group string="Misc">
										<field name="active"/>
										<field name="referred"/>
									</group>-->
								</group>
							</page>
							<page string="Follow Ups">
								
								<field string="" name="x_followups"  context="{'default_partner_id':partner_id,'default_x_project_id':x_project_id,'default_x_contact_id':x_contact_id,'default_name': 'follow-up','default_x_is_followup':True,'default_duration':1,'default_user_id':user_id,'default_state':'open'}"> 
								
								<form version="7.0"><group>
									<field name="date" string="Date"/>
									<field name="x_instruction" string="Instruction (if any)"/>
									<field name="user_id" string="Responsible"/>
									<field name="name" string="Address" invisible="1"/>
									<field name="description" invisible="1"/>
									<field name="partner_id" invisible="1"/>
									<field name="x_project_id" invisible="1"/>
									<field name="x_contact_id" invisible="1"/>
									<field name="x_lead_id" invisible="1"/>
									
									<field name="state" invisible="1" />	 
									<field name="x_is_followup" invisible="1"/>	 
									<field name="duration" invisible="1"/>
									</group>
								</form>
								<tree>
									<field name="date"/>
									<field name="partner_id" invisible="1" />
									<field name="name" invisible="1" />
									<field name="x_lead_id" invisible="1"/>
									<field name="x_instruction" string="Instruction"/>
									<field name="user_id" string="Responsible" options="{'create': false, 'create_edit': false}"/>
									<field name="description" string="Comments"/>
									<field name="state" invisible="1"/>	 
								</tree>
							</field>
								<!--
								<field name="x_followups">
									<tree string="Follow-Ups">
										<field name="date"/>
										<field name="name" invisible="1"/>
										<field name="description" string="Comment" />
										<field name="x_contact_id" string="Contact"/>
										<field name="x_type" string="Type" />
										<field name="user_id" string="Salesperson" />
									</tree>
								</field>
								-->
							</page>
							<!--
							<page string="Salesperson Comments">
								<field name="salespersonnote_ids" colspan="4" nolabel="1"/>
							</page> -->
						</notebook>
							
							
					</sheet>
					
					 <div class="oe_chatter">
							<field name="message_follower_ids" widget="mail_followers"/>
							<field name="message_ids" widget="mail_thread"/>
						</div>
				</form>
			</field>
		</record>
		
		<record id="dincelcrm_stock_picking_inherit" model="ir.ui.view">
            <field name="name">dincelcrm.stock.picking.inherit</field>
            <field name="model">stock.picking.type</field>
            <field name="inherit_id" ref="stock.view_picking_type_form"/>
            <field name="arch" type="xml">
                <field name="default_location_dest_id" position="after">
					<field name="x_warehouse_address">
						<tree editable="bottom">
							<field name="address_id" invisible="1" readonly="1" />
							<field name="name" invisible="1"  readonly="1" />
							<field name="street" />
							<field name="postcode" />
							<field name="suburb" />
							<field name="state_id" />
							<field name="country_id" />
						</tree>
					</field>
                </field> 
			</field>
        </record>
		
		<!-- Partner kanban view inherte -->
        <record model="ir.ui.view" id="dincelcrm_partner_kanban_view">
            <field name="name">cdincelcrm.res.partner.kanban.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.res_partner_kanban_view"/>
            <field name="priority" eval="10"/>
            <field name="arch" type="xml">
                <field name="is_company" position="before">
                    <field name="x_dcs_clientid"/>
                    
                </field>
                  <xpath expr="//div[@class='oe_kanban_partner_links']" position="inside">
						 <field name="x_dcs_clientid"/>
                       
                    
                    
                </xpath>
            </field>
        </record>
		
		
		
		<record id="dincelcrm_partner_tree_view_inherit" model="ir.ui.view" >
			<field name="name">dincelcrm.partner.tree.inherit</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_partner_tree" />
			<field name="arch" type="xml">
				<field name="email" position="after">
					<field name="user_id" />
					<field name="x_deposit_exmpt" />
					<field name="supplier" invisible="1"/>
					<field name="x_select_customer" />
					 
					<field name="x_cr_limit_read" />
					<button name="open_invoices_all" string="All Open Invoices" type="object" attrs="{'invisible': [('supplier', '=', True)]}" />
				</field>
			</field>
		</record>
	 
	 
	  <record id="dincelcrm_country_state_form_view" model="ir.ui.view" >
		<field name="name">dincelcrm.country.state.form.inherit</field>
		<field name="model">res.country.state</field>
		<field name="inherit_id" ref="base.view_country_state_form" />
		<field name="arch" type="xml">
				<field name="country_id" position="after">
					<field name="x_warehouse_id" />
				</field>
			</field>	
	</record>
		
		 <record model="ir.ui.view" id="dincelcrm_contact_tree_new_view">
            <field name="name">Customer</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <tree string="Customer" >
                   
                    <field name="name" />
					<field name="parent_id" string="Parent Company"/>
                    <field name="state_id" />
					<field name="city" string = "Suburb"/>
					<field name="email"/>
                    <field name="phone" />
					<field name="mobile" />
					<field name="x_deposit_exmpt" />
					<field name="x_select_customer" />
					<field name="property_payment_term" string="Term"/>
					<field name="credit_limit" />
					<field name="user_id" string="Salesperson" />
					
                </tree>
            </field>
        </record>
		
		 <record model="ir.ui.view" id="dincelcrm_project_site_tree">
            <field name="name">Projects / Sites</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <tree string="Projects / Sites" fonts="bold:message_unread==True">
					<field name="x_dcs_id" />
                    <field name="name" string="Site Address"/>
					<field name="x_dcs_clientid" />
                    <field name="state_id" />
					<field name="x_suburb_id" string="Suburb"/>
					
					<field name="x_likely_sale_dt"/>
                    <field name="x_project_size" />
					<field name="x_project_value" />
					<field name="user_id" string="Salesperson" />
					<field name="message_unread" invisible="1"/>
                </tree>
            </field>
        </record>
		
		 <record id="dincelcrm_user_view_inherit" model="ir.ui.view" >
			<field name="name">dincelcrm.user.form.inherit</field>
			<field name="model">res.users</field>
			<field name="inherit_id" ref="base.view_users_form" />
			<field name="arch" type="xml">
				<field name="active" position="before">
					<field name="x_code"/>
					<field name="x_warehouse_id" invisible="1" />
					<field name="x_honors" />
					<field name="x_salesperson" />
				</field>
			</field>
		</record>

		<record id="dincelcrm_project_site_action" model="ir.actions.act_window" >
			<field name="name">Projects / Sites</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,tree,form</field>
			<field name="domain">[('x_is_project','=',True)]</field>
			<field name="context">{'default_x_is_project': True,'default_customer': True}</field> 
			<!--<field name="view_id" ref="dincelcrm_leads_new_tree" /> -->
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_project_site_kanban">
			<field eval="1" name="sequence"/>
			<field name="view_mode">kanban</field>
			<field name="act_window_id" ref="dincelcrm_project_site_action"/>
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_project_site_tree">
			<field eval="2" name="sequence"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="dincelcrm_project_site_tree"/>
			<field name="act_window_id" ref="dincelcrm_project_site_action"/>
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_project_site_form">
			<field eval="3" name="sequence"/>
			<field name="view_mode">form</field>
			<field name="view_id" ref="dincelcrm_contact_form_new_view"/>
			<field name="act_window_id" ref="dincelcrm_project_site_action"/>
		</record>
		 
		 
		 <record id="dincelcrm_customers_action" model="ir.actions.act_window" >
			<field name="name">Contacts</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,tree,form</field>
			<field name="domain">[('customer','=',True),('x_is_project','=',False)]</field> <!-- ,('x_is_client','=',True) -->
			<field name="context">{'default_customer': True,'default_x_is_client': True,'default_is_company': True,'search_default_customer': True}</field> 
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_customers_kanban">
			<field eval="2" name="sequence"/>
			<field name="view_mode">kanban</field>
			<field name="act_window_id" ref="dincelcrm_customers_action"/>
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_customers_tree">
			<field eval="1" name="sequence"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="dincelcrm_contact_tree_new_view"/> 
			<field name="act_window_id" ref="dincelcrm_customers_action"/>
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_customers_form">
			<field eval="3" name="sequence"/>
			<field name="view_mode">form</field>
			<field name="view_id" ref="dincelcrm_contact_form_new_view"/>
			<field name="act_window_id" ref="dincelcrm_customers_action"/>
		</record>
	 
	 
	 
	 <record id="dincelcrm_overterms_customer_action" model="ir.actions.act_window" >
			<field name="name">Customers (over terms)</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('customer','=',True),('x_is_project','=',False),('x_cr_over','=',True)]</field>
			<field name="context">{'default_customer': True,'search_default_customer': True}</field> 
		</record>
	<record id="dincelcrm_overterms_customer_action_hold" model="ir.actions.act_window" >
			<field name="name">Customers (hold supply)</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('customer','=',True),('x_is_project','=',False),('x_hold_supply','=',True)]</field>
			<field name="context">{'default_customer': True,'search_default_customer': True}</field> 
		</record>	
		
		<record id="dincelcrm_customer_rate_pending_action" model="ir.actions.act_window" >
			<field name="name">Customers (pending rate)</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('customer','=',True),('x_is_project','=',False),('x_is_client','=',True),('x_pending_rate_ids','!=',None)]</field>
			<field name="context">{'default_customer': True,'search_default_customer': True}</field> 
		</record>
		
	 <record id="dincelcrm_select_customer_action" model="ir.actions.act_window" >
			<field name="name">Select Customers</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('customer','=',True),('x_is_project','=',False),('x_select_customer','=',True)]</field>
			<field name="context">{'default_customer': True,'search_default_customer': True}</field> 
		</record>
		
	  <record id="dincelcrm_deposit_ex_customer_action" model="ir.actions.act_window" >
			<field name="name">Deposit Exemption Customers</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('customer','=',True),('x_is_project','=',False),('x_deposit_exmpt','=',True)]</field>
			<field name="context">{'default_customer': True,'search_default_customer': True}</field> 
		</record>
		
		 <record id="dincelcrm_contacts_action" model="ir.actions.act_window" >
			<field name="name">Contacts</field>
			<field name="res_model">res.partner</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,tree,form</field>
			<field name="domain">[('customer','=',True),('x_is_project','=',False)]</field>
			<field name="context">{'default_customer': True,'search_default_customer': True}</field> 
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_contacts_kanban">
			<field eval="2" name="sequence"/>
			<field name="view_mode">kanban</field>
			<field name="act_window_id" ref="dincelcrm_contacts_action"/>
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_contacts_tree">
			<field eval="1" name="sequence"/>
			<field name="view_mode">tree</field>
			 
			<field name="act_window_id" ref="dincelcrm_contacts_action"/>
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_contacts_form">
			<field eval="3" name="sequence"/>
			<field name="view_mode">form</field>
			<field name="view_id" ref="dincelcrm_contact_form_new_view"/>
			<field name="act_window_id" ref="dincelcrm_contacts_action"/>
		</record>
	 
		<menuitem id="dincelcrm_project_site_menu" 
					name="Projects / Sites" 
					parent="base.menu_sales" 
					action="dincelcrm_project_site_action" 
					sequence="1"
					/>	
 		
		<menuitem id="dincelcrm_project_site_account_menu" 
					name="Projects / Sites" 
					parent="account.menu_finance_receivables" 
					action="dincelcrm_project_site_action" 
					sequence="1"
					/>	
		<menuitem id="dincelcrm_contacts_menu" 
					name="Customers/Contacts" 
					parent="base.menu_sales" 
					action="dincelcrm_contacts_action" 
					sequence="1"
					/>	
		<!--			
		<menuitem id="dincelcrm_overterms_customer_menu" 
					name="Customers (over terms)" 
					parent="dincelcrm.dincelcrm_sale_menu_sub" 
					action="dincelcrm_overterms_customer_action" 
					sequence="2"
					/>	
		<menuitem id="dincelcrm_overterms_customer_menu_hold" 
					name="Customers (hold supply)" 
					parent="dincelcrm.dincelcrm_sale_menu_sub" 
					action="dincelcrm_overterms_customer_action_hold" 
					sequence="2"
					/>	
		<menuitem id="dincelcrm_customer_rate_pending_menu" 
					name="Customers (pending rate)" 
					parent="dincelcrm.dincelcrm_sale_menu_sub" 
					action="dincelcrm_customer_rate_pending_action" 
					sequence="2"
					/>	
					
		<menuitem id="dincelcrm_select_customer_menu" 
					name="Priority/Selected Customers" 
					parent="dincelcrm.dincelcrm_sale_menu_sub" 
					action="dincelcrm_select_customer_action" 
					sequence="5"
					/>	
 		
		<menuitem id="dincelcrm_deposit_ex_customer_menu" 
					name="Deposit Waived Customer" 
					parent="dincelcrm.dincelcrm_sale_menu_sub" 
					action="dincelcrm_deposit_ex_customer_action" 
					sequence="6"
					/>	
					
		-->
					
		<menuitem id="dincelcrm_customers_menu" 
					name="Contacts" 
					parent="base.menu_sales" 
					action="dincelcrm_customers_action" 
					sequence="3"
					/>				
					
					
		<!-- Rate card config -->
		<record id="dincelcrm_rate_config_action" model="ir.actions.act_window" >
			<field name="name">Rate Configuration/Settings</field>
			<field name="res_model">dincelcrm.rate.config</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree</field>
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_rate_config_tree">
			<field eval="1" name="sequence"/>
			<field name="view_mode">tree</field>
			<field name="act_window_id" ref="dincelcrm_rate_config_action"/>
				
		</record>
		
		<record model="ir.actions.act_window.view" id="action_dincelcrm_rate_config_form">
			<field eval="2" name="sequence"/>
			<field name="view_mode">form</field>
			<field name="act_window_id" ref="dincelcrm_rate_config_action"/>
			
		</record>
		
		<menuitem id="dincelcrm_rate_config_menu" 
					name="Rate Configuration/Settings" 
					parent="base.menu_base_config" 
					action="dincelcrm_rate_config_action" 
					/>	
					 		
							
	</data>
</openerp>	